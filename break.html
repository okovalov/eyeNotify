<html>
    <head>
        <title>Take a 20/20 Break!</title>
        <!-- @copyright 2013 Kevin Thackorie <http://www.github.com/kevin-thackorie -->
        <link type="text/css" rel="stylesheet" href="base.css" />
    </head>
    <body>	
        <div id="wrapper">
            <p>Take a 20/20 break!</p>
            <p>Focus on an object that is 20 ft. away for 20 seconds.</p>
            <p id="remaining"></p>
        </div>
        <script type="text/javascript">
            // @var integer The duration of the break in seconds. 5 seconds added to allow the user to read the instructions
            var j = 25;
            
            // @var element The dynamic <p> tag
            var p = document.getElementById('remaining');
            
            // start counting down, second by second, to the end of the break
            window.setInterval(function() {
                if (j > 0) {
                        j--;
                        
                        // if the counter is still in the 5 second "overtime"...
                        if (j > 20) {
                            // show a countdown to the start of the break
                            p.innerHTML = 'Break starts in <span id="time">' + (j - 20) + '</span>  seconds...';
                        } else if (j ==20) {
                            p.innerHTML = '<span id="time">Start your vision break!</span>';
                        } else if (j == 0) {
                            p.innerHTML = '<span id="time">Break is over.</span>';
                        } else {
                            // show the seconds left in the actual break
                            p.innerHTML = 'You still have <span id="time">' + j + '</span> seconds remaining.';
                        }
                }
                else {
                        // the break is over, so close the window
                        window.close();
                }
            }, 1000);
        </script>
    </body>
</html>